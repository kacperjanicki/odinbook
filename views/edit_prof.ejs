<div class="login formTop">
    <form method="POST" enctype="multipart/form-data" id="form" action="edit">
        <% if(error){ %> <%= error %> <% } %> <% if(msg){ %> <%= msg %> <% } %>
        <div>
            <label for="username">First name: </label>
            <input type="text" name="fname" required value="<%= currentUser.fname%>" />
        </div>
        <div>
            <label for="username">Last name: </label>
            <input type="text" name="lname" required value="<%= currentUser.lname%>" />
        </div>
        <div>
            <label for="username">Username: </label>
            <input type="text" name="username" value="<%= currentUser.username %>" disabled />
        </div>
        <div>
            <label for="date">Date of birth: </label>
            <input type="date" name="date" required value="<%=
            currentUser.dateOfBirth.toISOString().split("T")[0] %>" />
        </div>
        <div>
            <label for="profilePic">Profile picture:</label>
            <input type="file" name="profilePic" />
            <div>
                <% if(currentUser.imageBase64){ %>
                <img
                    src="data:<%=currentUser.contentType%>;base64,<%=currentUser.imageBase64%>"
                    alt=""
                    style="height: 3rem"
                />
                <% }else{ %> Add profile picture <% } %>
            </div>
        </div>
        <a style="color: red" href="/profile/<%= currentUser.username %>/delete">Delete account</a>
        <button type="submit">Submit</button>
        <!-- https://stackoverflow.com/questions/63288522/how-to-wait-until-the-nodes-call-back-function-executed -->
    </form>
</div>
